{% extends 'base.html' %}

{% block title %}Reserved Area{% endblock %}

{% block content %}

<script>
  document.getElementById("reserved_area").classList.add("active");
</script>

<div class="container" style="margin-top: 100px ;"> 
<ul class="nav nav-tabs nav-fill" id="myTab" role="tablist">
    <li class="nav-item col-6" role="presentation" >
      <button class="nav-link active" id="shedule-tab" data-bs-toggle="tab" data-bs-target="#shedule-tab-pane" type="button" role="tab" aria-controls="shedule-tab-pane" aria-selected="true">Schedule</button>
    </li>
    <li class="nav-item col-6" role="presentation">
      <button class="nav-link" id="testResults-tab" data-bs-toggle="tab" data-bs-target="#testResults-tab-pane" type="button" role="tab" aria-controls="testResults-tab-pane" aria-selected="false">Test Results</button>
    </li>
  </ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="shedule-tab-pane" role="tabpanel" aria-labelledby="shedule-tab" tabindex="0">
        <div class="row" style="margin-top: 50px;">  
          <h2 class="col-12">Your Schedule</h2>
          <div class="col-12">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">Date</th>
                    <th scope="col">Time</th>
                    <th scope="col">Patient</th>
                    <th scope="col">Type</th>
                    <th scope="col">Status</th>
                  </tr>
                </thead>
                <tbody>

                  {% for appointment in appointments %}
                    <tr>
                      <th scope="row">{{ appointment.date }}</th>
                        <td>{{ appointment.time }}</td>
                        <td>{{ appointment.patient_email }}</td>
                        <td>{{ appointment.type }}</td>
                        <td>{{ appointment.status }}</td>
                    </tr>
                  {% endfor %}

                </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="tab-pane fade" id="testResults-tab-pane" role="tabpanel" aria-labelledby="testResults-tab" tabindex="0">

    <!-- simple form with patient email and place to upload a file -->

    <div class="row" style="margin-top: 50px;">
        
      <h2 class="col-12" style="text-align: center; margin-bottom: 100px;">Upload Test Results</h2>

      <div class="col-6" style="margin: auto auto auto auto ;">
        <form method="POST" enctype="multipart/form-data">
            <div class="mb-3">
              <label for="patientEmail" class="form-label">Patient Email</label>
              <input type="text" class="form-control" id="patientEmail" aria-describedby="patientEmail" name="patient_email" required>
            </div>
            <div class="mb-3">
              <label for="testResults" class="form-label">Test Results</label>
              <input class="form-control" type="file" id="testResults" name="results_file" required>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
      </div>

    </div>
  </div>
          
</div>

{% endblock %}